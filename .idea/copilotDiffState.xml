<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/src/middleware.ts">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/middleware.ts" />
              <option name="originalContent" value="import createMiddleware from &quot;next-intl/middleware&quot;;&#10;import { NextResponse } from &quot;next/server&quot;;&#10;import type { NextRequest } from &quot;next/server&quot;;&#10;import { locales } from &quot;./i18n&quot;;&#10;&#10;const intlMiddleware = createMiddleware({&#10;    locales: locales,&#10;    defaultLocale: &quot;en&quot;,&#10;    localePrefix: &quot;as-needed&quot;,&#10;});&#10;&#10;export function middleware(request: NextRequest) {&#10;    const { pathname } = request.nextUrl;&#10;&#10;    // Skip locale handling for static files and special paths&#10;    if (&#10;        pathname.startsWith(&quot;/tarotmeter&quot;) ||&#10;        pathname.startsWith(&quot;/memorchess&quot;) ||&#10;        pathname.startsWith(&quot;/_next&quot;) ||&#10;        pathname.startsWith(&quot;/api&quot;) ||&#10;        pathname.includes(&quot;/images/&quot;)&#10;    ) {&#10;        // If accessing /tarotmeter/index.html, redirect to /tarotmeter&#10;        if (pathname === &quot;/tarotmeter/index.html&quot;) {&#10;            const url = request.nextUrl.clone();&#10;            url.pathname = &quot;/tarotmeter&quot;;&#10;            return NextResponse.redirect(url, 301);&#10;        }&#10;        return NextResponse.next();&#10;    }&#10;&#10;    // Handle internationalization for other routes&#10;    return intlMiddleware(request);&#10;}&#10;&#10;export const config = {&#10;    matcher: [&#10;        &quot;/&quot;,&#10;        &quot;/(fr|en)/:path*&quot;,&#10;        &quot;/tarotmeter/:path*&quot;,&#10;        &quot;/memorchess/:path*&quot;,&#10;        &quot;/((?!_next|api|tarotmeter|memorchess|images).*)&quot;,&#10;    ],&#10;};&#10;" />
              <option name="updatedContent" value="import createMiddleware from &quot;next-intl/middleware&quot;;&#10;import { NextResponse } from &quot;next/server&quot;;&#10;import type { NextRequest } from &quot;next/server&quot;;&#10;import { locales } from &quot;./i18n&quot;;&#10;&#10;const intlMiddleware = createMiddleware({&#10;    locales: locales,&#10;    defaultLocale: &quot;en&quot;,&#10;    localePrefix: &quot;as-needed&quot;,&#10;});&#10;&#10;export function middleware(request: NextRequest) {&#10;    const { pathname } = request.nextUrl;&#10;&#10;    // Skip locale handling for static files and special paths&#10;    if (&#10;        pathname.startsWith(&quot;/tarotmeter&quot;) ||&#10;        pathname.startsWith(&quot;/memorchess&quot;) ||&#10;        pathname.startsWith(&quot;/_next&quot;) ||&#10;        pathname.startsWith(&quot;/api&quot;) ||&#10;        pathname.includes(&quot;/images/&quot;) ||&#10;        pathname.startsWith(&quot;/sounds/&quot;)&#10;    ) {&#10;        // If accessing /tarotmeter/index.html, redirect to /tarotmeter&#10;        if (pathname === &quot;/tarotmeter/index.html&quot;) {&#10;            const url = request.nextUrl.clone();&#10;            url.pathname = &quot;/tarotmeter&quot;;&#10;            return NextResponse.redirect(url, 301);&#10;        }&#10;        return NextResponse.next();&#10;    }&#10;&#10;    // Handle internationalization for other routes&#10;    return intlMiddleware(request);&#10;}&#10;&#10;export const config = {&#10;    matcher: [&#10;        &quot;/&quot;,&#10;        &quot;/(fr|en)/:path*&quot;,&#10;        &quot;/tarotmeter/:path*&quot;,&#10;        &quot;/memorchess/:path*&quot;,&#10;        &quot;/((?!_next|api|tarotmeter|memorchess|images|sounds).*)&quot;,&#10;    ],&#10;};&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>