<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/src/app/[locale]/boomboom/page.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/app/[locale]/boomboom/page.tsx" />
              <option name="originalContent" value="'use client';&#10;}&#10;    );&#10;        &lt;/Container&gt;&#10;            &lt;/Section&gt;&#10;                &lt;/div&gt;&#10;                    &lt;/p&gt;&#10;                        Click the button to play music on all browsers viewing the /browserbrowser page!&#10;                    &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-center max-w-md&quot;&gt;&#10;                    &lt;/button&gt;&#10;                        {isPlaying ? ' Playing...' : '▶️ Play Pipipi'}&#10;                    &gt;&#10;                        `}&#10;                            text-white shadow-lg hover:shadow-xl&#10;                            }&#10;                                : 'bg-blue-600 hover:bg-blue-700 hover:scale-105 active:scale-95'&#10;                                ? 'bg-gray-400 cursor-not-allowed'&#10;                            ${isPlaying&#10;                            transition-all duration-200 transform&#10;                            px-8 py-4 text-xl font-bold rounded-lg&#10;                        className={`&#10;                        disabled={isPlaying}&#10;                        onClick={handlePlayMusic}&#10;                    &lt;button&#10;                    &lt;/h1&gt;&#10;                        Boom Boom &#10;                    &lt;h1 className=&quot;text-4xl md:text-6xl font-bold text-center&quot;&gt;&#10;                &lt;div className=&quot;flex flex-col items-center justify-center min-h-[60vh] gap-8&quot;&gt;&#10;            &lt;Section&gt;&#10;        &lt;Container&gt;&#10;    return (&#10;&#10;    };&#10;        }&#10;            setIsPlaying(false);&#10;            console.error('Error triggering music:', error);&#10;        } catch (error) {&#10;            setTimeout(() =&gt; setIsPlaying(false), 1000);&#10;&#10;            });&#10;                method: 'POST',&#10;            await fetch('/api/trigger-music', {&#10;            // Trigger the music on all browserbrowser pages&#10;        try {&#10;&#10;        setIsPlaying(true);&#10;    const handlePlayMusic = async () =&gt; {&#10;&#10;    const [isPlaying, setIsPlaying] = useState(false);&#10;export default function BoomBoomPage() {&#10;&#10;import Section from '@/components/Section';&#10;import Container from '@/components/Container';&#10;import React, { useState } from 'react';&#10;&#10;&#10;" />
              <option name="updatedContent" value="&quot;use client&quot;;&#10;&#10;import React, { useState } from &quot;react&quot;;&#10;import Container from &quot;@/components/Container&quot;;&#10;import Section from &quot;@/components/Section&quot;;&#10;&#10;export default function BoomBoomPage() {&#10;    const [isPlaying, setIsPlaying] = useState(false);&#10;&#10;    const handlePlayMusic = async () =&gt; {&#10;        setIsPlaying(true);&#10;&#10;        try {&#10;            // Trigger the music on all browserbrowser pages&#10;            await fetch(&quot;/api/trigger-music&quot;, {&#10;                method: &quot;POST&quot;,&#10;            });&#10;&#10;            setTimeout(() =&gt; setIsPlaying(false), 1000);&#10;        } catch (error) {&#10;            // eslint-disable-next-line no-console&#10;            console.error(&quot;Error triggering music:&quot;, error);&#10;            setIsPlaying(false);&#10;        }&#10;    };&#10;&#10;    return (&#10;        &lt;Container&gt;&#10;            &lt;Section id=&quot;boomboom&quot;&gt;&#10;                &lt;div className=&quot;flex flex-col items-center justify-center min-h-[60vh] gap-8&quot;&gt;&#10;                    &lt;h1 className=&quot;text-4xl md:text-6xl font-bold text-center&quot;&gt;&#10;                        Boom Boom &#10;                    &lt;/h1&gt;&#10;                    &lt;button&#10;                        onClick={handlePlayMusic}&#10;                        disabled={isPlaying}&#10;                        className={`&#10;                            px-8 py-4 text-xl font-bold rounded-lg&#10;                            transition-all duration-200 transform&#10;                            ${&#10;                                isPlaying&#10;                                    ? &quot;bg-gray-400 cursor-not-allowed&quot;&#10;                                    : &quot;bg-blue-600 hover:bg-blue-700 hover:scale-105 active:scale-95&quot;&#10;                            }&#10;                            text-white shadow-lg hover:shadow-xl&#10;                        `}&#10;                    &gt;&#10;                        {isPlaying ? &quot; Playing...&quot; : &quot;▶️ Play Pipipi&quot;}&#10;                    &lt;/button&gt;&#10;                    &lt;p className=&quot;text-gray-600 dark:text-gray-400 text-center max-w-md&quot;&gt;&#10;                        Click the button to play music on all browsers viewing the /browserbrowser page!&#10;                    &lt;/p&gt;&#10;                &lt;/div&gt;&#10;            &lt;/Section&gt;&#10;        &lt;/Container&gt;&#10;    );&#10;}&#10;&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/app/[locale]/browserbrowser/page.tsx">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/app/[locale]/browserbrowser/page.tsx" />
              <option name="originalContent" value="&quot;use client&quot;;&#10;&#10;import React, { useEffect, useRef, useState } from &quot;react&quot;;&#10;import Container from &quot;@/components/Container&quot;;&#10;import Section from &quot;@/components/Section&quot;;&#10;&#10;export default function BrowserBrowserPage() {&#10;    const [isConnected, setIsConnected] = useState(false);&#10;    const [playCount, setPlayCount] = useState(0);&#10;    const [lastPlayed, setLastPlayed] = useState&lt;string&gt;(&quot;Never&quot;);&#10;    const audioContextRef = useRef&lt;AudioContext | null&gt;(null);&#10;    const intervalRef = useRef&lt;NodeJS.Timeout | null&gt;(null);&#10;&#10;    // Initialize audio context&#10;    useEffect(() =&gt; {&#10;        // Create audio context on user interaction (required by browsers)&#10;        const initAudio = () =&gt; {&#10;            if (!audioContextRef.current) {&#10;                audioContextRef.current = new (window.AudioContext || (window as any).webkitAudioContext)();&#10;            }&#10;        };&#10;&#10;        document.addEventListener(&quot;click&quot;, initAudio, { once: true });&#10;&#10;        return () =&gt; {&#10;            document.removeEventListener(&quot;click&quot;, initAudio);&#10;        };&#10;    }, []);&#10;&#10;    // Play &quot;pipipi&quot; sound using Web Audio API&#10;    const playPipipi = () =&gt; {&#10;        if (!audioContextRef.current) {&#10;            audioContextRef.current = new (window.AudioContext || (window as any).webkitAudioContext)();&#10;        }&#10;&#10;        const ctx = audioContextRef.current;&#10;        const notes = [523.25, 587.33, 659.25]; // C5, D5, E5 frequencies&#10;        const duration = 0.15; // Duration of each note in seconds&#10;&#10;        notes.forEach((freq, index) =&gt; {&#10;            const oscillator = ctx.createOscillator();&#10;            const gainNode = ctx.createGain();&#10;&#10;            oscillator.connect(gainNode);&#10;            gainNode.connect(ctx.destination);&#10;&#10;            oscillator.frequency.value = freq;&#10;            oscillator.type = &quot;sine&quot;;&#10;&#10;            const startTime = ctx.currentTime + index * duration;&#10;            const endTime = startTime + duration;&#10;&#10;            gainNode.gain.setValueAtTime(0.3, startTime);&#10;            gainNode.gain.exponentialRampToValueAtTime(0.01, endTime);&#10;&#10;            oscillator.start(startTime);&#10;            oscillator.stop(endTime);&#10;        });&#10;&#10;        setPlayCount((prev: number) =&gt; prev + 1);&#10;        setLastPlayed(new Date().toLocaleTimeString());&#10;    };&#10;&#10;    // Poll for music trigger&#10;    useEffect(() =&gt; {&#10;        let lastEventId = 0;&#10;&#10;        const checkForTrigger = async () =&gt; {&#10;            try {&#10;                const response = await fetch(`/api/check-music?lastEventId=${lastEventId}`);&#10;                const data = await response.json();&#10;&#10;                if (data.shouldPlay &amp;&amp; data.eventId &gt; lastEventId) {&#10;                    lastEventId = data.eventId;&#10;                    playPipipi();&#10;                }&#10;&#10;                setIsConnected(true);&#10;            } catch (error) {&#10;                console.error(&quot;Error checking for music trigger:&quot;, error);&#10;                setIsConnected(false);&#10;            }&#10;        };&#10;&#10;        // Check every 500ms&#10;        intervalRef.current = setInterval(checkForTrigger, 500);&#10;&#10;        // Initial check&#10;        checkForTrigger();&#10;&#10;        return () =&gt; {&#10;            if (intervalRef.current) {&#10;                clearInterval(intervalRef.current);&#10;            }&#10;        };&#10;    }, []);&#10;&#10;    return (&#10;        &lt;Container&gt;&#10;            &lt;Section&gt;&#10;                &lt;div className=&quot;flex flex-col items-center justify-center min-h-[60vh] gap-8&quot;&gt;&#10;                    &lt;h1 className=&quot;text-4xl md:text-6xl font-bold text-center&quot;&gt;Browser Browser &lt;/h1&gt;&#10;&#10;                    &lt;div className=&quot;flex items-center gap-2&quot;&gt;&#10;                        &lt;div&#10;                            className={`w-3 h-3 rounded-full ${isConnected ? &quot;bg-green-500&quot; : &quot;bg-red-500&quot;} animate-pulse`}&#10;                        &gt;&lt;/div&gt;&#10;                        &lt;span className=&quot;text-sm text-gray-600 dark:text-gray-400&quot;&gt;&#10;                            {isConnected ? &quot;Connected&quot; : &quot;Disconnected&quot;}&#10;                        &lt;/span&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div className=&quot;bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 text-center&quot;&gt;&#10;                        &lt;p className=&quot;text-6xl mb-4&quot;&gt;&lt;/p&gt;&#10;                        &lt;p className=&quot;text-2xl font-bold mb-2&quot;&gt;Waiting for music...&lt;/p&gt;&#10;                        &lt;p className=&quot;text-gray-600 dark:text-gray-400&quot;&gt;&#10;                            This page will play music when someone clicks the button on /boomboom&#10;                        &lt;/p&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div className=&quot;grid grid-cols-2 gap-4 w-full max-w-md&quot;&gt;&#10;                        &lt;div className=&quot;bg-blue-100 dark:bg-blue-900 rounded-lg p-4 text-center&quot;&gt;&#10;                            &lt;p className=&quot;text-3xl font-bold text-blue-600 dark:text-blue-300&quot;&gt;{playCount}&lt;/p&gt;&#10;                            &lt;p className=&quot;text-sm text-gray-600 dark:text-gray-400&quot;&gt;Times Played&lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;bg-purple-100 dark:bg-purple-900 rounded-lg p-4 text-center&quot;&gt;&#10;                            &lt;p className=&quot;text-lg font-bold text-purple-600 dark:text-purple-300&quot;&gt;{lastPlayed}&lt;/p&gt;&#10;                            &lt;p className=&quot;text-sm text-gray-600 dark:text-gray-400&quot;&gt;Last Played&lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;button&#10;                        onClick={playPipipi}&#10;                        className=&quot;px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors&quot;&#10;                    &gt;&#10;                         Test Sound&#10;                    &lt;/button&gt;&#10;                &lt;/div&gt;&#10;            &lt;/Section&gt;&#10;        &lt;/Container&gt;&#10;    );&#10;}&#10;" />
              <option name="updatedContent" value="&quot;use client&quot;;&#10;&#10;import React, { useEffect, useRef, useState } from &quot;react&quot;;&#10;import Container from &quot;@/components/Container&quot;;&#10;import Section from &quot;@/components/Section&quot;;&#10;&#10;export default function BrowserBrowserPage() {&#10;    const [isConnected, setIsConnected] = useState(false);&#10;    const [playCount, setPlayCount] = useState(0);&#10;    const [lastPlayed, setLastPlayed] = useState&lt;string&gt;(&quot;Never&quot;);&#10;    const audioContextRef = useRef&lt;AudioContext | null&gt;(null);&#10;    const intervalRef = useRef&lt;NodeJS.Timeout | null&gt;(null);&#10;&#10;    // Initialize audio context&#10;    useEffect(() =&gt; {&#10;        // Create audio context on user interaction (required by browsers)&#10;        const initAudio = () =&gt; {&#10;            if (!audioContextRef.current) {&#10;                audioContextRef.current = new (window.AudioContext || (window as any).webkitAudioContext)();&#10;            }&#10;        };&#10;&#10;        document.addEventListener(&quot;click&quot;, initAudio, { once: true });&#10;&#10;        return () =&gt; {&#10;            document.removeEventListener(&quot;click&quot;, initAudio);&#10;        };&#10;    }, []);&#10;&#10;    // Play &quot;pipipi&quot; sound using Web Audio API&#10;    const playPipipi = () =&gt; {&#10;        if (!audioContextRef.current) {&#10;            audioContextRef.current = new (window.AudioContext || (window as any).webkitAudioContext)();&#10;        }&#10;&#10;        const ctx = audioContextRef.current;&#10;        const notes = [523.25, 587.33, 659.25]; // C5, D5, E5 frequencies&#10;        const duration = 0.15; // Duration of each note in seconds&#10;&#10;        notes.forEach((freq, index) =&gt; {&#10;            const oscillator = ctx.createOscillator();&#10;            const gainNode = ctx.createGain();&#10;&#10;            oscillator.connect(gainNode);&#10;            gainNode.connect(ctx.destination);&#10;&#10;            oscillator.frequency.value = freq;&#10;            oscillator.type = &quot;sine&quot;;&#10;&#10;            const startTime = ctx.currentTime + index * duration;&#10;            const endTime = startTime + duration;&#10;&#10;            gainNode.gain.setValueAtTime(0.3, startTime);&#10;            gainNode.gain.exponentialRampToValueAtTime(0.01, endTime);&#10;&#10;            oscillator.start(startTime);&#10;            oscillator.stop(endTime);&#10;        });&#10;&#10;        setPlayCount((prev: number) =&gt; prev + 1);&#10;        setLastPlayed(new Date().toLocaleTimeString());&#10;    };&#10;&#10;    // Poll for music trigger&#10;    useEffect(() =&gt; {&#10;        let lastEventId = 0;&#10;&#10;        const checkForTrigger = async () =&gt; {&#10;            try {&#10;                const response = await fetch(`/api/check-music?lastEventId=${lastEventId}`);&#10;                const data = await response.json();&#10;&#10;                if (data.shouldPlay &amp;&amp; data.eventId &gt; lastEventId) {&#10;                    lastEventId = data.eventId;&#10;                    playPipipi();&#10;                }&#10;&#10;                setIsConnected(true);&#10;            } catch (error) {&#10;                console.error(&quot;Error checking for music trigger:&quot;, error);&#10;                setIsConnected(false);&#10;            }&#10;        };&#10;&#10;        // Check every 500ms&#10;        intervalRef.current = setInterval(checkForTrigger, 500);&#10;&#10;        // Initial check&#10;        checkForTrigger();&#10;&#10;        return () =&gt; {&#10;            if (intervalRef.current) {&#10;                clearInterval(intervalRef.current);&#10;            }&#10;        };&#10;    }, []);&#10;&#10;    return (&#10;        &lt;Container&gt;&#10;            &lt;Section id=&quot;browserbrowser&quot;&gt;&#10;                &lt;div className=&quot;flex flex-col items-center justify-center min-h-[60vh] gap-8&quot;&gt;&#10;                    &lt;h1 className=&quot;text-4xl md:text-6xl font-bold text-center&quot;&gt;Browser Browser &lt;/h1&gt;&#10;&#10;                    &lt;div className=&quot;flex items-center gap-2&quot;&gt;&#10;                        &lt;div&#10;                            className={`w-3 h-3 rounded-full ${isConnected ? &quot;bg-green-500&quot; : &quot;bg-red-500&quot;} animate-pulse`}&#10;                        &gt;&lt;/div&gt;&#10;                        &lt;span className=&quot;text-sm text-gray-600 dark:text-gray-400&quot;&gt;&#10;                            {isConnected ? &quot;Connected&quot; : &quot;Disconnected&quot;}&#10;                        &lt;/span&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div className=&quot;bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 text-center&quot;&gt;&#10;                        &lt;p className=&quot;text-6xl mb-4&quot;&gt;&lt;/p&gt;&#10;                        &lt;p className=&quot;text-2xl font-bold mb-2&quot;&gt;Waiting for music...&lt;/p&gt;&#10;                        &lt;p className=&quot;text-gray-600 dark:text-gray-400&quot;&gt;&#10;                            This page will play music when someone clicks the button on /boomboom&#10;                        &lt;/p&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;div className=&quot;grid grid-cols-2 gap-4 w-full max-w-md&quot;&gt;&#10;                        &lt;div className=&quot;bg-blue-100 dark:bg-blue-900 rounded-lg p-4 text-center&quot;&gt;&#10;                            &lt;p className=&quot;text-3xl font-bold text-blue-600 dark:text-blue-300&quot;&gt;{playCount}&lt;/p&gt;&#10;                            &lt;p className=&quot;text-sm text-gray-600 dark:text-gray-400&quot;&gt;Times Played&lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                        &lt;div className=&quot;bg-purple-100 dark:bg-purple-900 rounded-lg p-4 text-center&quot;&gt;&#10;                            &lt;p className=&quot;text-lg font-bold text-purple-600 dark:text-purple-300&quot;&gt;{lastPlayed}&lt;/p&gt;&#10;                            &lt;p className=&quot;text-sm text-gray-600 dark:text-gray-400&quot;&gt;Last Played&lt;/p&gt;&#10;                        &lt;/div&gt;&#10;                    &lt;/div&gt;&#10;&#10;                    &lt;button&#10;                        onClick={playPipipi}&#10;                        className=&quot;px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors&quot;&#10;                    &gt;&#10;                         Test Sound&#10;                    &lt;/button&gt;&#10;                &lt;/div&gt;&#10;            &lt;/Section&gt;&#10;        &lt;/Container&gt;&#10;    );&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>